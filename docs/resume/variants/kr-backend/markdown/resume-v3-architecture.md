# 신주용 | 백엔드 엔지니어 (v3. 아키텍처형)

Contact | 010-8392-1580  
Email | sea71511@gmail.com  
GitHub | https://github.com/SJY0917032  
Blog | https://sjy0917032.github.io/

## 프로필

OTA/O2O 도메인에서 4년간 백엔드 시스템을 설계·운영했습니다.  
핵심 관심사는 "장애가 나도 서비스가 멈추지 않는 구조"와 "운영 비용이 선형으로 증가하지 않는 구조"입니다.

## 핵심 역량

- NestJS/TypeScript 기반 도메인 설계, API 설계/구현
- 외부 연동 계층의 인터페이스 분리(Adapter/Strategy)
- 분산 트랜잭션 보상 처리, 멱등성 키 기반 중복 방지
- Retry, DLQ, Audit 로그를 결합한 운영 복구 패턴
- AWS 인프라 비용 분석과 수명주기 기반 최적화

## 설계 원칙

- 장애 전파 차단: 실패 단위를 작게 나누고 비동기 큐로 격리
- 교체 가능성 우선: 외부 공급사/PG 변경을 가정하고 포트를 먼저 정의
- 데이터 정합성 우선: 이벤트 재시도와 멱등성으로 중복/유실을 함께 방지
- 운영 가시성 우선: 로그/알림/정산 검증을 기능 구현과 같이 배포
- 비용을 기능 요구사항으로 취급: 기능 완성 후가 아니라 설계 시점에 비용 경로를 점검

## 핵심 설계 사례

### 1) 발송 파이프라인 재설계 (뽀득)

- 배경: GAS 동기 처리로 장애가 뒤 요청에 연쇄 전파, 월 2-3회 장애 발생
- 설계: 업체 단위 SQS 분리, PDF 생성 Lambda 분리, 단건 재발행 API 제공
- 운영 패턴: 장애 범위 축소 + 재처리 경로 명확화
- 결과: 발송 실패 월 2-3회 → 0건, PDF 100KB → 10KB, 수기 운영 제거

### 2) TMS 연동 안정화 (뽀득)

- 배경: 문서/테스트 없는 연동 코드, 타임아웃 시 수동 복구 필요(월 3-5회)
- 설계: 인터페이스 추상화, Mock 테스트, Retry(최대 3회), Slack 알림, Audit 로그
- 트레이드오프: 초기 구현 비용은 증가했지만 신규 TMS 교체 비용을 장기적으로 감소
- 결과: 수기 대응 월 3-5회 → 0회, 장애 탐지 지연 해소

### 3) 결제 도메인 확장 구조 (뽀득)

- 배경: CMS 수기 결제 갱신(월 3회), 신규 PG 요구 지속
- 설계: 결제 비즈니스 로직과 PG 의존성 분리, Strategy/Adapter 패턴 적용
- 운영 패턴: 원본 PG 응답 저장으로 정산/CS 추적성 확보
- 결과: 수기 결제 제거, 신규 PG 연동 리드타임 단축

### 4) 공급사 통합 아키텍처 (카모아)

- 배경: 공급사별 REST/SOAP 편차와 모놀리스 병목으로 확장 한계
- 설계: 공급사 래핑 서버 독립 배포(ECS) + 코어 서버 비즈니스 분리 + 공통 스키마 패키지화
- 운영 패턴: 공급사 단위 장애 격리, 신규 공급사 온보딩 단순화
- 결과: 7개국/2천 대 → 71개국/400만 대 확장

### 5) 비용 중심 데이터 수명주기 설계 (카모아)

- 배경: DocumentDB 월 140만 원 비용으로 총 인프라 비용 압박
- 설계: TTL Index 자동 만료 + 만료 전 S3 백업
- 트레이드오프: 즉시 조회 가능한 과거 데이터 범위는 줄였지만 비용/운영 안정성 개선
- 결과: 월 140만 원 → 12만 원(91% 절감), 데이터 유실 0건

## 신뢰성 운영 패턴

- 멱등성: `trackingId`, 결제 ID 기반 중복 요청 차단
- 재시도: 지수 백오프 정책으로 일시 장애 흡수
- 실패 수용: DLQ로 장기 실패를 별도 격리
- 관측성: Audit 로그와 알림 채널(Slack/Webhook)로 MTTR 단축
- 검증: D+1 정산 검증 스케줄러로 데이터 불일치 조기 탐지

## 성과 지표

- 실패 건수: 월 2-3회/월 3-5회 수기 장애 대응을 0건/0회로 전환
- 비용 지표: DocumentDB 월 140만 원 → 12만 원, 연간 인프라 약 400만 원 절감
- 확장 지표: 해외 인벤토리 7개국/2천 대 → 71개국/400만 대
- 비즈니스 지표: 패키지 상품 출시 후 호텔 매출 내 패키지 비중 60%

## 협업/리드

- 코드리뷰 SLA 도입(긴급 D-1 / 일반 D-2 / 리팩토링 D-3)
- 신규 멤버 온보딩 문서(구조/배포/도메인) 작성
- 기술 의사결정 시 대안 비교표 기반 합의 후 구현
